# Day 2: Bathroom Security

## Part 1

The problem asks us to determine a bathroom code by following a series of instructions on a keypad. We start at button '5' and move Up, Down, Left, or Right according to the instructions. The keypad is a standard 3x3 grid:

```
1 2 3
4 5 6
7 8 9
```

### Strategy

We can represent the keypad as a 2D grid (list of lists) or simply track coordinates `(x, y)`. The grid boundaries are `0 <= x <= 2` and `0 <= y <= 2`.

For each line of instructions:
1.  Start from the *current* button (initially '5' at `(1, 1)`).
2.  For each character ('U', 'D', 'L', 'R'):
    *   Update `x` or `y` accordingly.
    *   Clamp the values to stay within `[0, 2]`.
3.  After processing the line, the button at the current `(x, y)` is the next digit of the code.

### Code Snippet

```python
keypad = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

x, y = 1, 1 # Start at 5
code = ""

for line in lines:
    for move in line:
        if move == 'U':
            y = max(0, y - 1)
        elif move == 'D':
            y = min(2, y + 1)
        elif move == 'L':
            x = max(0, x - 1)
        elif move == 'R':
            x = min(2, x + 1)
    code += str(keypad[y][x])
```

## Part 2

The second part introduces a different, diamond-shaped keypad:

```
    1
  2 3 4
5 6 7 8 9
  A B C
    D
```

### Strategy

The coordinate system is slightly more complex. We can map valid coordinates to their characters using a dictionary. If a move would take us to an invalid coordinate (not in the dictionary), we simply ignore it and stay put.

We can use a coordinate system where '5' is at `(0, 2)` or any other convenient origin. The solution uses a grid where x increases to the right and y increases downwards.

Keypad mapping:
*   (2, 0): '1'
*   (1, 1): '2', (2, 1): '3', (3, 1): '4'
*   (0, 2): '5', ... (4, 2): '9'
*   ... and so on.

For each move:
1.  Calculate the *proposed* new coordinates `(nx, ny)`.
2.  Check if `(nx, ny)` exists in our keypad dictionary.
3.  If it exists, update `(x, y)` to `(nx, ny)`. Otherwise, do nothing.

### Code Snippet

```python
keypad = {
    (2, 0): '1',
    (1, 1): '2', (2, 1): '3', (3, 1): '4',
    (0, 2): '5', (1, 2): '6', (2, 2): '7', (3, 2): '8', (4, 2): '9',
    (1, 3): 'A', (2, 3): 'B', (3, 3): 'C',
    (2, 4): 'D'
}

x, y = 0, 2 # Start at 5
code = ""

for line in lines:
    for move in line:
        nx, ny = x, y
        if move == 'U': ny -= 1
        elif move == 'D': ny += 1
        elif move == 'L': nx -= 1
        elif move == 'R': nx += 1
        
        if (nx, ny) in keypad:
            x, y = nx, ny

    code += keypad[(x, y)]
```
