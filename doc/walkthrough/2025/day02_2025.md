# Day 2: Gift Shop (2025)

## Problem Description

While visiting the North Pole gift shop, a clerk asks for help identifying invalid product IDs that a young Elf accidentally added to the database by playing with silly patterns.

The input consists of product ID ranges (formatted as `start-end,start-end,...`) separated by commas, where we need to identify and sum all the invalid IDs within these ranges.

## Part 1: Exactly Twice

**Goal:** Find all invalid IDs where the number is made of some sequence of digits repeated **exactly twice**.

### Definition

A product ID is invalid if it consists of a sequence of digits that appears exactly twice consecutively:
- `55` is invalid (`5` repeated twice)
- `6464` is invalid (`64` repeated twice)
- `123123` is invalid (`123` repeated twice)
- `11`, `22`, `99`, `1010`, `222222` are all invalid

Note: Numbers with leading zeros like `0101` aren't valid IDs at all (they would just be `101`).

### Approach

For each number in the given ranges:
1. Convert the number to a string
2. Check if it has an even number of digits (if odd, it can't be split in half)
3. Split the string in half
4. If both halves are identical, the ID is invalid
5. Sum all invalid IDs

### Examples from Problem

- `11-22` has invalid IDs: `11`, `22`
- `95-115` has invalid ID: `99`
- `998-1012` has invalid ID: `1010`
- `1188511880-1188511890` has invalid ID: `1188511885` (note: `11885` repeated)
- `222220-222224` has invalid ID: `222222` (note: `222` repeated)

## Part 2: At Least Twice

**Goal:** Find all invalid IDs where the number is made of some sequence of digits repeated **at least twice** (two or more times).

### Definition

A product ID is now invalid if it consists of a sequence of digits repeated 2 or more times:
- `12341234` is invalid (`1234` repeated 2 times)
- `123123123` is invalid (`123` repeated 3 times)
- `1212121212` is invalid (`12` repeated 5 times)
- `1111111` is invalid (`1` repeated 7 times)

This is a more general definition that includes Part 1 plus additional patterns.

### Approach

For each number in the given ranges:
1. Convert the number to a string
2. Try all possible substring lengths from 1 to `length // 2`
3. For each substring length that evenly divides the total length:
   - Extract the first `substring_length` characters
   - Check if repeating this substring fills the entire string
   - If yes, the ID is invalid
4. Sum all invalid IDs

### Key Insight

Part 2 generalizes Part 1:
- All IDs invalid in Part 1 are also invalid in Part 2 (since "exactly twice" is a subset of "at least twice")
- Part 2 catches additional patterns like `111` (1×3), `565656` (56×3), `824824824` (824×3), etc.

### Additional Examples from Part 2

- `95-115` now includes: `99` and `111`
- `998-1012` now includes: `999` and `1010`
- `565653-565659` now includes: `565656`
- `824824821-824824827` now includes: `824824824`
- `2121212118-2121212124` now includes: `2121212121`

## Code Reference

[day_02.py](file:///Users/a422gq/Documents/antigravity/aoc_solver/solvers/days/y2025/day_02.py)
